import{_ as N}from"./nuxt-link.ad1b3ac5.js";import{y as C,aQ as I,r as i,a as L,l as T,o as k,A as w,B as t,am as B,u as r,E as M,N as U,K as d,L as m,D as _,t as x,C as y,x as v,G as q,H as K,I as R}from"./entry.75e5da12.js";import{u as A}from"./user.af85b64d.js";import{u as D}from"./useAuth.7a69357a.js";import{_ as E}from"./logo_chanlebank1.7c457ddc.js";import{r as G}from"./index.a35aaa61.js";import{V as H}from"./VBtn.e95b6ffc.js";import"./rounded.42519ff8.js";import"./dimensions.828db36b.js";import"./router.bbe94cc5.js";import"./VIcon.54c6b0c4.js";const P=c=>(q("data-v-b8c77cc6"),c=c(),K(),c),Q={class:"login-container"},j={class:"card"},z=P(()=>t("a",{href:"/",class:"logo"},[t("img",{src:E,alt:""})],-1)),F=["onSubmit"],J={key:0,class:"warning"},O={class:"register"},W=C({__name:"register",setup(c){const h=I(),e=i(""),n=i(""),l=i(""),g=A(),V=L(()=>g.isRegisterSuccess),a=i(!1),f=async()=>{if(a.value=!0,!e.value||!n.value||!l.value){o.value="Vui lòng nhập đầy đủ thông tin",a.value=!1;return}if(e.value.includes(" ")){o.value="Tên đăng nhập không được chứa khoảng trắng",a.value=!1;return}if(e.value.length>10||e.value.length<6){o.value="Tên đăng nhập không quá 10 kí tự và ít nhất phải 6 kí tự",a.value=!1;return}if(n.value!==l.value){o.value="Mật khẩu không khớp",a.value=!1;return}const p={username:e.value,password:n.value};if(await g.register(p),a.value=!1,!V.value){o.value="Tạo tài khoản thất bại";return}const{checkTokenValid:s}=D();if(s()){h.push("/");return}h.push("/user/login")};T(e,p=>{e.value=G(p).toLowerCase()});const S=()=>{e.value=e.value.toLowerCase()},o=i("");return(p,s)=>{const b=N;return k(),w("div",Q,[t("div",j,[z,t("form",{onSubmit:B(f,["prevent"]),class:"form"},[r(o)?(k(),w("span",J,M(r(o)),1)):U("",!0),d(t("input",{"onUpdate:modelValue":s[0]||(s[0]=u=>_(e)?e.value=u:null),class:"username",type:"text",placeholder:"Nickname",required:"",onInput:S},null,544),[[m,r(e)]]),d(t("input",{"onUpdate:modelValue":s[1]||(s[1]=u=>_(n)?n.value=u:null),class:"password",type:"password",placeholder:"Mật Khẩu",required:""},null,512),[[m,r(n)]]),d(t("input",{"onUpdate:modelValue":s[2]||(s[2]=u=>_(l)?l.value=u:null),class:"password",type:"password",placeholder:"Nhập Lại Mật Khẩu",required:""},null,512),[[m,r(l)]]),x(H,{type:"submit",class:"btn",loading:r(a),onClick:f},{default:y(()=>[v("Đăng Ký")]),_:1},8,["loading"])],40,F),t("div",O,[v("Đã có tài khoản? "),x(b,{class:"link",to:"/user/login"},{default:y(()=>[v("Đăng Nhập!")]),_:1})])])])}}});const le=R(W,[["__scopeId","data-v-b8c77cc6"]]);export{le as default};
