import{r as a}from"./entry.75e5da12.js";const p=()=>{const c=a(""),s=a(""),n=e=>{const o=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),u=decodeURIComponent(atob(o).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(u)},r=e=>{const t=n(e);c.value=t.permission,s.value=t.username;const o=new Date;return t.exp>o.getTime()/1e3};return{username:s,permission:c,checkToken:r,checkTokenValid:()=>{const e=localStorage.getItem("accessToken");return e?r(e):!1},getUserName:()=>{const e=localStorage.getItem("accessToken");return e?n(e).username:""},checkUpdateBank:()=>{const e=localStorage.getItem("accessToken");if(!e)return!1;const t=n(e);return!(!t.accountNumber||!t.accountName||!t.bankcode)}}};export{p as u};
